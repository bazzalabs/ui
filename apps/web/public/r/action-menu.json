{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "action-menu",
  "type": "registry:component",
  "title": "Action menu",
  "dependencies": ["@bazza-ui/action-menu@canary", "lucide-react"],
  "files": [
    {
      "path": "registry/action-menu/index.tsx",
      "content": "import { createActionMenu, renderIcon } from '@bazza-ui/action-menu'\nimport { ChevronRightIcon } from 'lucide-react'\nimport { Fragment } from 'react'\nimport { cn } from '@/lib/utils'\n\nconst TriangleRightIcon = ({\n  ...props\n}: React.HTMLAttributes<SVGSVGElement>) => {\n  return (\n    <svg\n      width=\"15\"\n      height=\"15\"\n      viewBox=\"0 0 15 15\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path d=\"M6 11L6 4L10.5 7.5L6 11Z\" fill=\"currentColor\"></path>\n    </svg>\n  )\n}\n\nexport const LabelWithBreadcrumbs = ({\n  label,\n  breadcrumbs,\n}: {\n  label: string\n  breadcrumbs?: string[]\n}) => (\n  <div className=\"flex items-center gap-1 truncate\">\n    {breadcrumbs?.map((crumb, idx) => (\n      <Fragment key={`${idx}-${crumb}`}>\n        <span className=\"text-muted-foreground truncate\">{crumb}</span>\n        <ChevronRightIcon className=\"size-3 text-muted-foreground/75 stroke-[2.5px] shrink-0\" />\n      </Fragment>\n    ))}\n    <span className=\"truncate\">{label}</span>\n  </div>\n)\n\nexport const ActionMenu = createActionMenu<any>({\n  defaults: {\n    content: {\n      onCloseAutoClear: 300,\n    },\n  },\n  shell: {\n    classNames: {\n      overlay: cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/40 h-full w-full',\n      ),\n      drawerContent: cn(\n        'fixed z-50',\n        'data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80svh] data-[vaul-drawer-direction=top]:rounded-lg',\n        'data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80svh] data-[vaul-drawer-direction=bottom]:rounded-lg data-[vaul-drawer-direction=bottom]:mx-4',\n      ),\n      drawerContentInner: cn(\n        'border rounded-lg bg-popover flex h-auto flex-col min-h-0 overflow-hidden shadow-lg mb-4',\n        '[--action-menu-drawer-handle-height:theme(spacing.8)]',\n      ),\n      drawerHandle: cn(\n        'h-(--action-menu-drawer-handle-height) w-full relative',\n        'before:absolute before:top-4 before:left-1/2 before:-translate-x-1/2',\n        'before:bg-muted before:h-2 before:w-[100px] before:shrink-0 before:rounded-full',\n      ),\n    },\n  },\n  surface: {\n    slots: {\n      Item: ({ node, bind, search }) => {\n        const props = bind.getRowProps({\n          className: 'group/row',\n        })\n\n        return (\n          <li {...props}>\n            {node.icon && (\n              <div className=\"size-4 flex items-center justify-center\">\n                {renderIcon(\n                  node.icon,\n                  'size-4 shrink-0 text-muted-foreground group-data-[focused=true]/row:text-primary',\n                )}\n              </div>\n            )}\n            <LabelWithBreadcrumbs\n              label={node.label ?? ''}\n              breadcrumbs={search?.breadcrumbs}\n            />\n          </li>\n        )\n      },\n      SubmenuTrigger: ({ node, bind, search }) => {\n        const props = bind.getRowProps({})\n\n        return (\n          <li {...props}>\n            <div className=\"flex items-center gap-2 min-w-0\">\n              {node.icon && (\n                <div className=\"size-4 flex items-center justify-center\">\n                  {renderIcon(\n                    node.icon,\n                    'size-4 shrink-0 text-muted-foreground group-data-[focused=true]:text-primary',\n                  )}\n                </div>\n              )}\n              <LabelWithBreadcrumbs\n                label={node.label ?? ''}\n                breadcrumbs={search?.breadcrumbs}\n              />\n            </div>\n            <TriangleRightIcon className=\"text-muted-foreground/75 group-data-[menu-state=open]:group-data-[menu-focused=false]:text-foreground/75 group-data-[menu-focused=true]:text-foreground transition-[color] duration-50 ease-out shrink-0\" />\n          </li>\n        )\n      },\n      Empty: () => (\n        <div className=\"flex items-center justify-center h-10 text-muted-foreground\">\n          No matching options.\n        </div>\n      ),\n    },\n    classNames: {\n      content: cn(\n        'data-[mode=dropdown]:border bg-popover rounded-lg z-50 flex flex-col text-sm shadow-md origin-(--radix-popper-transform-origin)',\n        'data-[root-menu]:data-[state=open]:animate-in data-[root-menu]:data-[state=closed]:animate-out data-[root-menu]:data-[state=closed]:fade-out-0 data-[root-menu]:data-[state=open]:fade-in-0 data-[root-menu]:data-[state=closed]:zoom-out-95 data-[root-menu]:data-[state=open]:zoom-in-95 data-[root-menu]:data-[side=bottom]:slide-in-from-top-2 data-[root-menu]:data-[side=left]:slide-in-from-right-2 data-[root-menu]:data-[side=right]:slide-in-from-left-2 data-[root-menu]:data-[side=top]:slide-in-from-bottom-2',\n        'data-[mode=dropdown]:max-h-[min(500px,var(--action-menu-available-height))]',\n        'box-content',\n        'data-[mode=dropdown]:w-[min(400px,max(var(--row-width),175px))]',\n        'data-[mode=drawer]:max-h-[calc(80svh-var(--action-menu-drawer-handle-height)-calc(var(--spacing)*4))]',\n      ),\n\n      list: cn(\n        'scroll-py-1 overflow-y-auto overflow-x-hidden outline-none',\n        '[-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]',\n        'w-full flex-1',\n        'py-1',\n      ),\n      input: cn(\n        'outline-hidden disabled:cursor-not-allowed disabled:opacity-50 min-h-9 max-h-9 px-4 placeholder-muted-foreground/70 focus-visible:placeholder-muted-foreground placeholder:transition-[color] placeholder:duration-50 placeholder:ease-in-out border-b caret-blue-500',\n        'data-[mode=drawer]:text-[16px]',\n        'data-[mode=drawer]:px-6',\n        'w-full',\n      ),\n      group: cn('mt-3 data-[index=0]:mt-1 mb-2'),\n      groupHeading: cn('text-xs font-medium text-muted-foreground px-3'),\n      item: cn(\n        'group flex items-center w-full gap-2 text-sm select-none',\n        'data-[focused=true]:text-accent-foreground',\n        'py-1.5 data-[mode=dropdown]:px-4 data-[mode=drawer]:px-5',\n        'truncate w-full relative z-1',\n        'before:absolute before:top-0 before:left-1 before:right-1 before:h-full data-[focused=true]:before:bg-accent before:rounded-md before:z-[-1]',\n      ),\n      subtrigger: cn(\n        \"group flex items-center justify-between data-[focused=true]:text-accent-foreground relative cursor-default gap-4 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground\",\n        'py-1.5 data-[mode=drawer]:px-5 data-[mode=dropdown]:px-4',\n        'overflow-x-hidden w-full relative z-1',\n        'before:absolute before:top-0 before:left-1 before:right-1 before:h-full data-[focused=true]:before:bg-accent before:rounded-md before:z-[-1]',\n      ),\n    },\n  },\n})\n",
      "type": "registry:file",
      "target": "components/ui/action-menu.tsx"
    }
  ]
}
