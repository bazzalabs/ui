{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "action-menu",
  "type": "registry:component",
  "title": "Action menu",
  "dependencies": ["@bazza-ui/action-menu@canary", "lucide-react"],
  "files": [
    {
      "path": "registry/action-menu/index.tsx",
      "content": "import { createActionMenu, renderIcon } from '@bazza-ui/action-menu'\nimport { ChevronRightIcon } from 'lucide-react'\nimport { Fragment } from 'react'\nimport { cn } from '@/lib/utils'\n\nconst TriangleRightIcon = ({\n  ...props\n}: React.HTMLAttributes<SVGSVGElement>) => {\n  return (\n    <svg\n      width=\"15\"\n      height=\"15\"\n      viewBox=\"0 0 15 15\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path d=\"M6 11L6 4L10.5 7.5L6 11Z\" fill=\"currentColor\"></path>\n    </svg>\n  )\n}\n\nexport const LabelWithBreadcrumbs = ({\n  label,\n  breadcrumbs,\n}: {\n  label: string\n  breadcrumbs?: string[]\n}) => (\n  <div className=\"flex items-center gap-1\">\n    {breadcrumbs?.map((crumb, idx) => (\n      <Fragment key={`${idx}-${crumb}`}>\n        <span className=\"text-muted-foreground\">{crumb}</span>\n        <ChevronRightIcon className=\"size-3 text-muted-foreground/75 stroke-[2.5px]\" />\n      </Fragment>\n    ))}\n    <span>{label}</span>\n  </div>\n)\n\nexport const ActionMenu = createActionMenu<any>({\n  defaults: {\n    content: {\n      onCloseAutoClear: 300,\n    },\n  },\n  shell: {\n    classNames: {\n      overlay: cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/40 h-full w-full',\n      ),\n      drawerContent: cn(\n        'group/drawer-content border rounded-lg bg-popover fixed z-50 flex h-auto flex-col min-h-0 overflow-hidden shadow-lg',\n        'data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80svh] data-[vaul-drawer-direction=top]:rounded-lg',\n        'data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-4 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80svh] data-[vaul-drawer-direction=bottom]:rounded-lg data-[vaul-drawer-direction=bottom]:mx-4',\n      ),\n      drawerHandle: cn(\n        'bg-muted mx-auto mt-4 mb-2 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block',\n      ),\n    },\n    slotProps: {\n      drawerRoot: {\n        shouldScaleBackground: true,\n      },\n    },\n  },\n  surface: {\n    slots: {\n      Item: ({ node, bind, search }) => {\n        const props = bind.getRowProps({\n          className: 'group/row',\n        })\n\n        return (\n          <div {...props}>\n            {node.icon && (\n              <div className=\"size-4 flex items-center justify-center\">\n                {renderIcon(\n                  node.icon,\n                  'size-4 shrink-0 text-muted-foreground group-data-[focused=true]/row:text-primary',\n                )}\n              </div>\n            )}\n            <LabelWithBreadcrumbs\n              label={node.label ?? ''}\n              breadcrumbs={search?.breadcrumbs}\n            />\n          </div>\n        )\n      },\n      SubmenuTrigger: ({ node, bind, search }) => {\n        const props = bind.getRowProps({})\n\n        return (\n          <div {...props}>\n            <div className=\"flex items-center gap-2\">\n              {node.icon && (\n                <div className=\"size-4 flex items-center justify-center\">\n                  {renderIcon(\n                    node.icon,\n                    'size-4 shrink-0 text-muted-foreground group-data-[focused=true]:text-primary',\n                  )}\n                </div>\n              )}\n              <LabelWithBreadcrumbs\n                label={node.label ?? ''}\n                breadcrumbs={search?.breadcrumbs}\n              />\n            </div>\n            <TriangleRightIcon className=\"text-muted-foreground/75 group-data-[menu-state=open]:group-data-[menu-focused=false]:text-foreground/75 group-data-[menu-focused=true]:text-foreground transition-[color] duration-50 ease-out\" />\n          </div>\n        )\n      },\n      Empty: () => (\n        <div className=\"flex items-center justify-center h-10 text-muted-foreground\">\n          No matching options.\n        </div>\n      ),\n    },\n    classNames: {\n      content: cn(\n        'data-[mode=dropdown]:border bg-popover rounded-lg z-50 text-sm shadow-md origin-(--radix-popper-transform-origin) flex flex-col h-full w-full min-h-0 overflow-hidden',\n        'data-[root-menu]:data-[state=open]:animate-in data-[root-menu]:data-[state=closed]:animate-out data-[root-menu]:data-[state=closed]:fade-out-0 data-[root-menu]:data-[state=open]:fade-in-0 data-[root-menu]:data-[state=closed]:zoom-out-95 data-[root-menu]:data-[state=open]:zoom-in-95 data-[root-menu]:data-[side=bottom]:slide-in-from-top-2 data-[root-menu]:data-[side=left]:slide-in-from-right-2 data-[root-menu]:data-[side=right]:slide-in-from-left-2 data-[root-menu]:data-[side=top]:slide-in-from-bottom-2',\n      ),\n\n      list: cn(\n        'p-1 flex flex-col w-full scroll-py-1 overflow-x-hidden overflow-y-auto outline-none',\n        'data-[mode=dropdown]:min-w-[200px] data-[mode=dropdown]:max-w-[500px] data-[mode=dropdown]:max-h-[300px]',\n        'data-[mode=drawer]:flex-1 data-[mode=drawer]:max-w-full',\n        'data-[mode=drawer]:[&_[data-action-menu-group-heading]]:px-5',\n      ),\n      input: cn(\n        'outline-hidden disabled:cursor-not-allowed disabled:opacity-50 min-h-9 max-h-9 px-4 placeholder-muted-foreground/70 focus-visible:placeholder-muted-foreground placeholder:transition-[color] placeholder:duration-50 placeholder:ease-in-out border-b caret-blue-500',\n        'data-[mode=drawer]:px-6',\n      ),\n      group: cn('not-last:mb-2'),\n      groupHeading: cn('text-xs font-medium text-muted-foreground px-3 my-1'),\n      item: cn(\n        'group flex items-center gap-2 rounded-md px-3 py-1.5 text-sm select-none',\n        'data-[focused=true]:bg-accent data-[focused=true]:text-accent-foreground',\n        'data-[mode=drawer]:px-5',\n      ),\n      subtrigger: cn(\n        \"group w-full flex items-center justify-between data-[focused=true]:bg-accent data-[focused=true]:text-accent-foreground relative cursor-default gap-4 rounded-md py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground\",\n        'data-[mode=dropdown]:px-3',\n        'data-[mode=drawer]:px-5',\n        'relative',\n      ),\n    },\n  },\n})\n",
      "type": "registry:file",
      "target": "components/ui/action-menu.tsx"
    }
  ]
}
