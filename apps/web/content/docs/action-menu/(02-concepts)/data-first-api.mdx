---
title: Data-First API
section: Components
summary: "Understanding the MenuDef structure."
---

## What is Data-First?

The action menu uses a **data-first API**. Instead of writing JSX components for each menu item, you define your menu as a JavaScript object (a `MenuDef`).

This approach has several benefits:

1. **Dynamic menus** - Generate menus from API responses
2. **Transformations** - Filter, sort, and transform menu structures easily
3. **Search & filtering** - The component can efficiently search your menu data
4. **Type safety** - Full TypeScript support with generics
5. **Serializable** - Menu structures can be JSON-serialized

## MenuDef Structure

A `MenuDef` is an object that describes your menu:

```tsx
const menu: MenuDef = {
  nodes: [
    { kind: 'item', id: 'apple', label: 'Apple', icon: 'ðŸŽ' },
    { kind: 'item', id: 'banana', label: 'Banana', icon: 'ðŸŒ' },
    { kind: 'item', id: 'orange', label: 'Orange', icon: 'ðŸŠ' },
  ],
}
```

The `nodes` array contains your menu items. Each node has a `kind` that determines what it is:

- `item` - A clickable menu item
- `group` - Groups items together
- `submenu` - A nested submenu
- `separator` - A visual separator

## NodeDef Types

### ItemDef

```tsx
{
  kind: 'item',
  id: 'save',           // Required: unique ID
  label: 'Save',        // Display text
  icon: SaveIcon,       // Optional icon
  disabled: false,      // Optional: disable the item
  onSelect: () => {},   // Optional: action handler
  closeOnSelect: true,  // Optional: close menu after select
  keywords: ['persist'], // Optional: custom search terms
}
```

### GroupDef

```tsx
{
  kind: 'group',
  id: 'actions',
  heading: 'Actions',  // Optional heading
  nodes: [
    // Items or submenus
  ],
}
```

### SubmenuDef

```tsx
{
  kind: 'submenu',
  id: 'export',
  label: 'Export',
  title: 'Export Options',
  nodes: [
    // Nested items, groups, or submenus
  ],
}
```

### SeparatorDef

```tsx
{
  kind: 'separator',
  id: 'sep-1',
  label: 'Optional Label', // Optional
}
```

## Type Safety with Generics

You can add custom data to your nodes using TypeScript generics:

```tsx
type CustomData = {
  priority: 'low' | 'medium' | 'high'
  category: string
}

const menu: MenuDef<CustomData> = {
  nodes: [
    {
      kind: 'item',
      id: 'bug-fix',
      label: 'Fix Bug',
      data: {
        priority: 'high',
        category: 'maintenance',
      },
    },
  ],
}
```

Access custom data in your `onSelect` handler:

```tsx
onSelect: ({ node }) => {
  console.log(node.data.priority) // Fully typed!
}
```

## Dynamic Menus

Generate menus from data:

```tsx
const tasks = [
  { id: 1, name: 'Write docs', done: false },
  { id: 2, name: 'Fix bugs', done: true },
  { id: 3, name: 'Ship it', done: false },
]

const menu: MenuDef = {
  nodes: tasks.map(task => ({
    kind: 'item',
    id: `task-${task.id}`,
    label: task.name,
    icon: task.done ? CheckCircle : Circle,
    onSelect: () => toggleTask(task.id),
  })),
}
```

## Next Steps

- **[Quick Examples](/docs/action-menu/getting-started/quick-examples)** - Common patterns
- **[Node Types](/docs/action-menu/nodes/items)** - Deep dive into each node type
- **[API Reference](/docs/action-menu/api-reference/node-definitions)** - Complete TypeScript reference
