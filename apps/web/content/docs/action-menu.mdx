---
title: Action menu
section: Components
summary: A composable menu with deep search and multi-level submenus.
badge: alpha
---

<ComponentFrame 
  className='mb-16' 
  containerClassName='h-104' 
  caption={<>A subset of <a href="https://linear.app/homepage">Linear</a>'s filter menu, recreated with the bazza/ui action menu.</>}
>
  <Examples.ActionMenu.KitchenSink01 />
</ComponentFrame>

The action menu is a primitive component for building menu interfaces.

At its core, it combines the best features of the dropdown and command menus available today, while adding deep search capabilities.

## Features

- Data-first API with headless, slot-based rendering.
- Supports submenus with [intent zones](https://linear.app/now/invisible-details) for easy, fluid pointer navigation.
- Deep search across submenus; descendants are searchable from ancestors.
- Fully typed with generics for your own menu data, customizable per submenu.
- Full keyboard navigation with vim-style keybindings built-in.
- Responsive design; renders a dropdown on desktop and a [drawer](https://vaul.emilkowal.ski) on mobile.
- Supports modal and non-modal modes.
- Customize side, alignment, offsets, collision handling.
- Focus is fully managed; follows the `aria-activedescendant` pattern.

## Installation

Want something styled with sensible defaults? Install from our registry with one command.

- Installs the `@bazza-ui/action-menu` package
- Creates the `@/components/ui/action-menu.tsx` file with a styled `ActionMenu` component

```bash
npx shadcn@latest add https://ui.bazza.dev/r/action-menu
```

Install the unstyled, primitive component as an npm package:

```bash
npm install @bazza-ui/action-menu
```

## Data

This component uses a data-first API. You define your menu as a `MenuDef` object and pass it to the `ActionMenu` component:

```tsx
const menu: MenuDef = {
  nodes: [
    { kind: 'item', id: 'Apple', label: 'Apple', icon: 'üçé' },
    { kind: 'item', id: 'Banana', label: 'Banana', icon: 'üçå' },
    { kind: 'item', id: 'Orange', label: 'Orange', icon: 'üçä' },
    { kind: 'item', id: 'Pineapple', label: 'Pineapple', icon: 'üçç' },
    { kind: 'item', id: 'Strawberry', label: 'Strawberry', icon: 'üçì' },
  ],
}

const FruitsMenu = () => {
  return (
    <ActionMenu
      trigger={<Button>Fruits</Button>}
      menu={menu}
    />
  )
}
```

## Nodes

Each node in the `MenuDef` describes what to render and how it should behave.

The library ships three kinds (`kind`) of nodes ‚Äî `item`, `group`, and `submenu`.

Their shapes are defined by the `ItemDef`, `GroupDef`, and `SubmenuDef` types.

### Item

```ts
{
  kind: 'item',
  id: 'done',
  label: 'Done',
  icon: <Status.Done />,
  onSelect: ({ node }) => {
    setStatus('done')
    toast(`Changed status to ${node.label}.`)
  }
  closeOnSelect: true
}
```

The atomic unit of the menu. It is a single row which performs an action when selected.

Each item must have a unique `id` among other sibling items. It does **not** have to be unique across submenus.

The action is defined by the `onSelect` handler, which gives you access to:

- The `node` instance, typed as `ItemNode<T>`.
- The `search` context, if the item is appearing in a filtered menu.

Optionally, you can specify an item `variant` to customize the look & functionality.

#### Button item

The default item variant is a `button`. You don't need to specify this, it is the default.

#### Checkbox item

```tsx {7,11,12}
const [checked, setChecked] = useState(false)

/* ... */

{
  kind: 'item',
  variant: 'checkbox',
  id: 'done',
  label: 'Done',
  icon: <Status.Done />,
  checked,
  onCheckedChange: setChecked,
}
```

Adds a checkbox field to the item.

You must use this in a controlled manner by specifying `checked` and `onCheckedChange` props.

#### Radio item

```ts {3}
{
  kind: 'item',
  variant: 'radio',
  id: 'done',
  label: 'Done',
  icon: <Status.Done />,
}
```

To be used within a [radio group](#radio-group).

You can specify a `value` to be used. If omitted, the `id` will be used.

### Group

```ts
{
  kind: 'group',
  id: 'fruits',
  heading: 'Fruits', // optional!
  nodes: [
    { kind: 'item', id: 'apple',  label: 'Apple',  icon: 'üçé' },
    { kind: 'item', id: 'banana', label: 'Banana', icon: 'üçå' },
    { kind: 'item', id: 'orange', label: 'Orange', icon: 'üçä' },
  ],
}
```

Group items and submenus together with a optional `heading`.

You cannot nest groups.

#### Radio group

```tsx {7,9,10}
const [fruit, setFruit] = useState<string>('apple')

/* ... */

{
  kind: 'group',
  variant: 'radio',
  id: 'fruits',
  value: fruit,
  onValueChange: setFruit,
}
```

You can specify `variant: radio` for radio group functionality. 

This requires the `value` and `onValueChange` props on the group.

### Submenu

```ts {2,10}
{
  kind: 'submenu',
  id: 'export-image',
  label: 'Image',
  title: 'Export Image',
  nodes: [
    { kind: 'item', id: 'export-png', label: 'PNG', icon: Image },
    { kind: 'item', id: 'export-jpg', label: 'JPG', icon: Image },
    {
      kind: 'submenu',
      id: 'export-vector',
      label: 'Vector',
      title: 'Vector',
      nodes: [
        { kind: 'item', id: 'export-svg', label: 'SVG', icon: Shapes },
        { kind: 'item', id: 'export-eps', label: 'EPS', icon: Ruler },
      ],
    },
  ],
}
```

A submenu of actions that the user can run.

The `label` property is used for the submenu's trigger.

You can specify the submenu content with the `nodes` property.

Submenus can be nested.

## Rendering

Once you have your menu data, the next step is to render it.

The library provides four mechanisms to customize the menu's appearance and behavior:

1. **Global theme:** create a reusable, styled action menu in your design system with `createActionMenu()`.
2. **Instance theme:** Override your styled action menu's defaults for each component instance.
3. **Surface theme:** Override per menu/submenu with the the `ui` prop on `MenuDef` and `SubmenuDef`.
4. Pass a custom `render()` function to each node definition.

When you install the component from the bazza/ui registry, we use the first mechanism, `createActionMenu()`, to create a styled action menu with sensible defaults.

While #1 may be enough in most cases, you may need additional customization on a per-instance basis. This is where #2 comes in.

#3 is used when you want to customize a specific menu or submenu within an action menu instance -- for example, to render all items in submenu `x` with a blue background.

Finally, #4 is used when you want to customize the rendering of a specific node within a menu or submenu.

### Overview

#### Slots

#### Slot props

#### Class names

### Global theme

### Instance theme

### Surface theme

### Using the `render()` function

## Examples

### Basic

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/basic.tsx"
>
  <Examples.ActionMenu.Basic />
</ComponentFrame>

### Disabled items

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/disabled-items.tsx"
>
  <Examples.ActionMenu.DisabledItems />
</ComponentFrame>

### Checkbox items

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/checkbox-items.tsx"
>
  <Examples.ActionMenu.CheckboxItems />
</ComponentFrame>

### Groups

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/groups.tsx"
>
  <Examples.ActionMenu.Groups />
</ComponentFrame>

### Radio groups

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/radio-groups.tsx"
>
  <Examples.ActionMenu.RadioGroups />
</ComponentFrame>

### Submenus

<ComponentFrame 
  containerClassName='sm:h-84' 
  previewClassName='w-full flex justify-center'   
  src="components/examples/action-menu/submenus.tsx"
>
  <Examples.ActionMenu.Submenus />
</ComponentFrame>

### Nested submenus

<ComponentFrame 
  containerClassName='sm:h-124' 
  src="components/examples/action-menu/submenus-deep.tsx"
>
  <Examples.ActionMenu.SubmenusDeep />
</ComponentFrame>

### Header + footer

<ComponentFrame 
  containerClassName='sm:h-104' 
  previewClassName='w-full flex justify-center'   
  src="components/examples/action-menu/header-footer.tsx"
>
  <Examples.ActionMenu.HeaderFooter />
</ComponentFrame>

### Massive (10,000 items)

<ComponentFrame
  containerClassName='sm:h-64' 
  previewClassName='w-full flex justify-center' 
  src="components/examples/action-menu/massive.tsx"
>
  <Examples.ActionMenu.Massive numItems={10_000} />
</ComponentFrame>

### Notion

<ComponentFrame 
  containerClassName='sm:h-116' 
  previewClassName='w-full flex justify-center'   
  src="components/examples/action-menu/notion.tsx"
>
  <Examples.ActionMenu.Notion />
</ComponentFrame>

## API reference

### MenuNodeKind

```ts
type MenuNodeKind = 'item' | 'group' | 'submenu'
```

### Iconish

```ts
type Iconish =
  | React.ReactNode
  | React.ReactElement
  | React.ElementType
  | React.ComponentType<{ className?: string }>
```

### Node

```ts
type Node<T = unknown> = ItemNode<T> | GroupNode<T> | SubmenuNode<T, any>
```

### NodeDef

```ts
type NodeDef<T = unknown> = ItemDef<T> | GroupDef<T> | SubmenuDef<T, any>
```

